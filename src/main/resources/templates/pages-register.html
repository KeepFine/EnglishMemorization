<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="common/head :: head(~{::link},~{})">


<body>
<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
<script th:inline="javascript">
    function chack(){
        $.post(
            {
                url:"/ajax/chackName",
                data:{"userCode":$("#userCode").val()},
                dataType:"json",
                success:function (data){
                    var inf = data;
                    var inf1 = JSON.stringify(inf)
                    if(inf1 == "\"用户名重复\""){
                        $('#userinfo').css("color","red")
                    }else {
                        $('#userinfo').css("color","green")
                    }
                    $("#userinfo").html(data.toString());
                }
            }
        )

    }

    function chackpwd(){
        $.post(
            {
                url:"/ajax/chackPwd",
                data:{"userPassword":$("#userPassword").val()},
                dataType:"json",
                success:function (data){
                    var inf = data;
                    var inf1 = JSON.stringify(inf)
                    if(inf1 == "\"密码太简单了哦\""){
                        $('#userinfo2').css("color","green")
                    }else {
                        $('#userinfo2').css("color","green")
                    }
                    $("#userinfo2").html(data.toString());
                }
            }
        )

    }

    // function chackAll(){
    //     $.post(
    //         {
    //             url:"/ajax/chackAll",
    //             data:{"userCode":$("#userCode").val()},
    //             dataType:"json",
    //             success:function (data){
    //                 var inf = data;
    //                 var inf1 = JSON.stringify(inf)
    //                 if(inf1 == "\"注册成功\""){
    //                     alertify.alert("注册成功");
    //                 }else {
    //                     alertify.alert("注册失败，请检查是否重名");
    //                 }
    //
    //             }
    //         }
    //     )
    //
    // }


</script>


<div class="accountbg"></div>

<!-- Begin page -->
<div class="home-btn d-none d-sm-block">
    <a th:href="@{/toAbout}" class="text-white"><i class="mdi mdi-home h1"></i></a>
</div>

<div class="wrapper-page">

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-5">
                <div class="card card-pages mt-4">
                    <div class="card-body">
                        <div class="text-center mt-0 mb-3">
                            <a href="index.html" class="logo logo-admin">
                                <img th:src="@{/picture/MyLOGO.png}" class="mt-3" alt="" height="70"></a>
                            <p class="text-muted w-75 mx-auto mb-4 mt-4">免费帐号，玩玩图个乐呗</p>
                        </div>

                        <form class="form-horizontal mt-4" method="post" th:action="@{/login/register}">
                            <div class="form-group">
                                <div class="col-12">
                                    <label for="email">Email</label>
                                    <input class="form-control" type="text" required="" id="email" name="email" placeholder="Email">
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-12">
                                    <label for="userCode">用户名（帐号）</label>
                                    <small  id="userinfo"></small>
                                    <input class="form-control" type="text" required="" id="userCode" name="userCode" placeholder="用户名（帐号）" onblur="chack()">
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-12">
                                    <label for="userPassword">密码</label>
                                    <small  id="userinfo2"></small>
                                    <input class="form-control" type="password" required="" id="userPassword" name="userPassword" placeholder="密码" onblur="chackpwd()">
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="customCheck1">
                                    <label class="custom-control-label font-weight-normal" for="customCheck1">我同意给作者点个赞</label>
                                </div>
                            </div>

                            <div class="form-group text-center mt-3">
                                <div class="col-12">
                                    <button class="btn btn-primary btn-block waves-effect waves-light" type="submit" >注册</button>
                                </div>
                            </div>

                            <div class="form-group text-center mt-3 mb-2">
                                <div class="col-12">
                                    <a th:href="@{/toLogin}" class="text-muted">已有帐号</a>
                                </div>
                            </div>

                        </form>

                    </div>

                </div>

            </div>
        </div>
        <!-- end row -->
    </div>
</div>
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/js/jquery.slimscroll.js}"></script>
<script th:src="@{/js/waves.min.js}"></script>
<script th:src="@{/js/apexcharts.min.js}"></script>
<script th:src="@{/js/bootstrap-datepicker.min.js}"></script>
<script th:src="@{/js/alertify.js}"></script>
<script th:src="@{/js/alertify-init.js}"></script>
<script th:src="@{/js/app.js}"></script>
<script th:src="@{/js/jquery}"></script>




</body>
<footer th:replace="common/foot :: foot(~{::link},~{})">

</footer>
</html>